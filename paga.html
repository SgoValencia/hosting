<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnceBet - Realizar Apuesta</title>
    <link rel="icon" type="image/png" href="Imagenes/logo-title.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1f4037, #99f2c8);
            color: #fff;
            margin: 0;
            padding: 0;
        }

        nav {
            background-color: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            border-bottom: 3px solid #2ecc71;
        }

        .logo {
            color: #2ecc71;
            font-size: 26px;
            font-weight: bold;
            text-decoration: none;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-links a {
            color: #2ecc71;
            text-decoration: none;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 5px;
            transition: background 0.3s, color 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            background-color: #2ecc71;
            color: #000;
        }
        
        .nav-links .cerrar-sesion {
            background-color: red;
            color: white;
        }

        .nav-links .cerrar-sesion:hover {
            background-color: darkred;
        }
        
        .nav-links .user-icon svg {
            fill: #2ecc71;
            width: 24px;
            height: 24px;
        }

        .paga-container {
            max-width: 600px;
            margin: 80px auto;
            background-color: rgba(0, 0, 0, 0.85);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
            text-align: center;
        }
        
        h2 {
            color: #2ecc71;
            margin-bottom: 25px;
        }
        
        .partido-info {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        
        .apuesta-info {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .calculadora {
            text-align: left;
            padding: 20px;
            border-top: 1px solid #2ecc71;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #2ecc71;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 1em;
        }
        
        .ganancia-estimada {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .btn-confirmar {
            width: 100%;
            padding: 12px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }
        
        .btn-confirmar:hover {
            background-color: #27ae60;
        }
        
        footer {
            background-color: #111;
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #ccc;
            margin-top: 50px;
        }
    </style>
    <script>
        function irA(url) {
            window.location.href = url;
        }
        
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const equipo1 = urlParams.get('equipo1');
            const equipo2 = urlParams.get('equipo2');
            const multiplicador = urlParams.get('multiplicador');
            const eleccion = urlParams.get('eleccion');

            if (equipo1 && equipo2 && multiplicador && eleccion) {
                document.getElementById('partido-info').textContent = `${equipo1} vs ${equipo2}`;
                document.getElementById('eleccion-info').textContent = eleccion;
                document.getElementById('multiplicador-valor').textContent = multiplicador;
            }

            const inputApuesta = document.getElementById('cantidad-apostar');
            const gananciaEstimada = document.getElementById('ganancia-estimada');
            const btnConfirmar = document.getElementById('btn-confirmar');

            inputApuesta.addEventListener('input', () => {
                const cantidad = parseFloat(inputApuesta.value);
                const mult = parseFloat(multiplicador);
                if (!isNaN(cantidad) && cantidad >= 1000) {
                    const ganancia = cantidad * mult;
                    gananciaEstimada.textContent = `Ganancia estimada: $${formatNumber(Math.floor(ganancia))}`;
                } else {
                    gananciaEstimada.textContent = 'Ganancia estimada: $0';
                }
            });
            
            btnConfirmar.addEventListener('click', () => {
                const cantidad = parseFloat(inputApuesta.value);
                if (!isNaN(cantidad) && cantidad >= 1000) {
                    const apuestas = JSON.parse(localStorage.getItem('misApuestas')) || [];

                    const nuevaApuesta = {
                        id: Date.now(),
                        equipo1,
                        equipo2,
                        eleccion,
                        multiplicador: parseFloat(multiplicador),
                        cantidad: cantidad,
                        ganancia: cantidad * parseFloat(multiplicador),
                        fecha: new Date().toLocaleDateString()
                    };

                    apuestas.push(nuevaApuesta);
                    localStorage.setItem('misApuestas', JSON.stringify(apuestas));

                    alert('¡Apuesta confirmada con éxito!');
                    window.location.href = 'mis-apuestas.html';
                } else {
                    alert('Por favor, ingresa una cantidad válida (mínimo $1.000).');
                }
            });
        });
    </script>
</head>
<body>

    <nav>
        <div class="logo" onclick="irA('principal.html')">OnceBet</div>
        <div class="nav-links">
            <a href="usuario.html" class="user-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 2c3.084 0 5.617 2.067 6.388 4.896-.7.534-1.282 1.157-1.745 1.879-.693.992-1.206 2.096-1.528 3.325.864.208 1.636.564 2.302 1.056.892 1.144 1.483 2.502 1.761 4.025-1.564 2.164-3.953 3.619-6.678 3.829-2.724-.21-5.113-1.665-6.678-3.829.278-1.523.869-2.881 1.761-4.025.666-.492 1.438-.848 2.302-1.056-.322-1.229-.835-2.333-1.528-3.325-.463-.722-1.045-1.345-1.745-1.879.771-2.829 3.304-4.896 6.388-4.896zM4.966 6.136c-2.846 1.967-3.996 5.867-2.756 8.956.893-1.127 1.482-2.483 1.76-4.008.666-.492 1.438-.848 2.302-1.056.864-.208 1.74-.275 2.668-.208-1.684-2.829-4.11-4.784-6.384-3.684z"/></svg>
            </a>
            <a onclick="irA('mis-apuestas.html')">Mis Apuestas</a>
            <a onclick="irA('promociones-privada.html')">Promociones</a>
            <a onclick="irA('contacto-privada.html')">Contacto</a>
            <a class="cerrar-sesion" onclick="irA('bienvenida.html')">Cerrar sesión</a>
        </div>
    </nav>

    <div class="paga-container">
        <h2>Realizar Apuesta</h2>
        <div class="partido-info">Partido: <span id="partido-info"></span></div>
        <div class="apuesta-info">
            Tu elección: <span id="eleccion-info"></span><br>
            Multiplicador: <span id="multiplicador-valor"></span>
        </div>
        
        <div class="calculadora">
            <div class="input-group">
                <label for="cantidad-apostar">Cantidad a apostar ($):</label>
                <input type="number" id="cantidad-apostar" min="1000" step="1000" placeholder="Ej: 50.000" required>
            </div>
            <div class="ganancia-estimada" id="ganancia-estimada">Ganancia estimada: $0</div>
            <button class="btn-confirmar" id="btn-confirmar">Confirmar Apuesta</button>
        </div>
    </div>

    <footer>
        © 2025 OnceBet | Todos los derechos reservados | Juega con responsabilidad
    </footer>

</body>
</html>